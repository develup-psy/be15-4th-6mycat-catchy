# 🐱 CATCHY

<center>
  <img src="https://github.com/user-attachments/assets/cc305d82-ded0-49f9-91d2-c2784571324a"/>
</center>
<div align="center">
  <img src="https://github.com/user-attachments/assets/dcad807f-f3a3-4480-8de5-c35e3539f100" width="300" height="277"/>
</div>
<br><br>

## 👨‍💻 DEVELOPERS


<table>
  <tr>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/13ac46cc-ef68-414f-bffe-aac5360b5497" width="100" height="100">
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/8bde6eb9-cd10-43eb-a127-8b01752c6e6e" width="100" height="100">
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/8ce1750a-d6df-4048-b2f2-1579bb6c4126" width="100" height="100">
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/6436353c-2507-471c-8a02-6493ca0b7846" width="100" height="100">
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/7eec2820-475d-4176-838d-5b8340f33e2c" width="100" height="100">
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/7fac10d0-aec9-4448-836d-b3b6c11b8110" width="100" height="100">
    </td>
  </tr>
  <tr>
    <td align="center">
      <a href="https://github.com/Kihong12"><b>김기홍</b></a>
    </td>
    <td align="center">
      <a href="https://github.com/kimjy8937"><b>김진영</b></a>
    </td>
    <td align="center">
      <a href="https://github.com/sezeme"><b>김채원</b></a>
    </td>
    <td align="center">
      <a href="https://github.com/develup-psy"><b>박성용</b></a>
    </td>
    <td align="center">
      <a href="https://github.com/ckaudgh"><b>차명호</b></a>
    </td>
    <td align="center">
      <a href="https://github.com/didiha"><b>하채린</b></a>
    </td>
  </tr>
</table>


<br>

## 📜 목차

#### [💡 기술 스택](#-기술-스택)  <br>
#### [📢 프로젝트 설명](#-프로젝트-설명)  <br>
#### [🔡 요구사항 명세서](#-요구사항-명세서)  <br>
#### [📟 REST API 명세서](#-rest-api-명세서)  <br>
#### [🙆‍♀️ 서비스 기능](#-서비스-기능)  <br>
#### [🗃️ DB 모델링](#-db-모델링)  <br>
#### [📈 플로우 차트](#-플로우-차트)  <br>
#### [🪄 Figma](#-figma)  <br>
#### [🛜 CI/CD 프로젝트 아키텍처](#-cicd-프로젝트-아키텍처)  <br>
#### [🚩 젠킨스 파이프라인 파일 스크립트 코드](#-젠킨스-파이프라인-파일-스크립트-코드)  <br>
#### [📱 CI/CD 테스트](#-cicd-테스트)  <br>
#### [🍪 개인 회고록](#-개인-회고록)  <br>

---

## 📢 ✨ 프로젝트 설명 ✨

### 🐾 **Catchy: 고양이를 사랑하는 사람들을 위한 올인원 커뮤니티 플랫폼**

> **Catchy**는 고양이를 사랑하는 사람들을 위한 SNS 기반 커뮤니티 플랫폼입니다.  
> 📸 사진과 🎥 릴스 영상 공유, 👥 팔로우, 💬 댓글, ❤️ 좋아요는 물론,  
> 🕹️ 게임과 🔔 실시간 알림, 🤖 AI 고양이 이미지 판별 기능까지 제공하는 고양이 맞춤형 올인원 웹 서비스입니다.

---

### 🌟 주요 서비스 기능

✅ **회원 관리**  
- 소셜 로그인/회원가입 (구글, 카카오, 네이버)  
- 프로필 관리 및 수정 (상태메시지, 고양이 정보)  
- 회원 탈퇴, 유저 차단  

✅ **팔로우/언팔로우**  
- 다른 사용자 팔로우 및 팔로잉/팔로워 목록 관리  

✅ **고양이 커뮤니티**  
- 피드(사진) 및 쭈르(영상) 등록, 수정, 삭제  
- 배경음악 선택, 해시태그, 무한스크롤, 공유 기능  
- 댓글 및 대댓글, 좋아요  

✅ **게임**  
- 고양이 카드 맞추기 게임  
- 랭킹, 시간·횟수 제한, 개인 카드 커스터마이징  

✅ **알림**  
- SSE 기반 실시간 알림 (댓글, 좋아요, 팔로우, 생일 알림)  
- 알림 자동 삭제 (30일 후)  

✅ **AI 이미지 검사**  
- 등록 사진이 고양이인지 AI가 판별  
- 비고양이 이미지 등록 시 거부  

---

### 🚀 Catchy가 만드는 가치

> 단순한 반려묘 사진 공유를 넘어,  
> 집사들끼리 교류하고, 게임으로 즐기며,  
> AI 기술로 고양이 중심 콘텐츠를 관리하는 **혁신적인 고양이 플랫폼**입니다.  
>  
> 🐾 **세상 모든 고양이와 집사를 위한 소셜 놀이터, Catchy에서 당신의 고양이 이야기를 들려주세요!**

---

## 💡 기술 스택

<div align="center">

### 🌿 Backend  
<img src="https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white" />
<img src="https://img.shields.io/badge/Spring_Boot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white" />
<img src="https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white" />
<img src="https://img.shields.io/badge/Spring_Data_JPA-6DB33F?style=for-the-badge" />
<img src="https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white" />
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white" />
<img src="https://img.shields.io/badge/Hibernate-59666C?style=for-the-badge&logo=hibernate&logoColor=white" />
<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" />
<img src="https://img.shields.io/badge/Mybatis-555555?style=for-the-badge" />
<img src="https://img.shields.io/badge/SSE-1572B6?style=for-the-badge" />

</div>

<div align="center">

### 🌿 Frontend  
<img src="https://img.shields.io/badge/Vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white" />
<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black" />
<img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white" />
<img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white" />
<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge" />
<img src="https://img.shields.io/badge/Vue_Router-4FC08D?style=for-the-badge" />
<img src="https://img.shields.io/badge/Pinia-F7DF1E?style=for-the-badge&logo=pinia&logoColor=black" />
<img src="https://img.shields.io/badge/Tailwind-2496ED?style=for-the-badge&logo=Tailwind&logoColor=white" />
<img src="https://img.shields.io/badge/ToastUi-2496ED?style=for-the-badge&logo=toastui&logoColor=white" />

</div>

<div align="center">

### 🗃️ Database  
<img src="https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white" />
<img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white" />
<img src="https://img.shields.io/badge/Amazon_S3-569A31?style=for-the-badge&logo=amazonaws&logoColor=white" />

</div>

<div align="center">

### ☁️ Devops  
<img src="https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white" />
<img src="https://img.shields.io/badge/Kubernetes-326CE5?style=for-the-badge&logo=kubernetes&logoColor=white" />

</div>

<div align="center">

### 🛠️ Tools  
<img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white" />
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white" />
<img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white" />
<img src="https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=discord&logoColor=white" />
<img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white" />
<img src="https://img.shields.io/badge/Jira-326CE5?style=for-the-badge&logo=jira&logoColor=white" />

</div>

<details>
  <summary><strong>1. 소셜 로그인</strong></summary>
- 구글
- 카카오
- 네이버
</details>

<details>
  <summary><strong>2. 유저</strong></summary>
- 유저 차단 기능  
- 프로필 관리  
- 회원 탈퇴  
</details>

<details>
  <summary><strong>3. 팔로우 팔로잉 기능</strong></summary>
- 유저 팔로우/언팔로우  
- 팔로워 / 팔로잉 목록 보기  
</details>

<details>
  <summary><strong>4. 고양이 커뮤니티 - SNS 기반 게시판</strong></summary>
- 게시글 작성 (사진 없는 글 등록 불가)  
- 댓글 & 대댓글 (self join or depth 컬럼 활용)  
- 좋아요 (Redis Set으로 빠른 확인)  
- 해시태그 (검색 + 인덱스 튜닝)  
- 내 글/댓글 보기  
- 무한스크롤 (Cursor 기반, createdAt+id)    
- 최대 사진 5장 업로드 제한  
  
**심화 기술**  
  - 유저별 활동량(글/댓글 수) 분석  
  - 이미지 리사이징 + webp 변환  
  - S3 + CloudFront  
  - AI로 고양이 사진 판별  
</details>

<details>
  <summary><strong>5. 알림</strong></summary>
- SSE 기반 알림  
  - 내 글에 댓글/좋아요 → 실시간 알림  
- 고양이 생일 알림  
</details>

<details>
  <summary><strong>6. 30초 릴스 공유</strong></summary>
- 릴스 업로드 (프론트 → S3 직업로드)  
- 배경음악 선택 (Spotify API 사용)  
- 썸네일 자동 생성 (FFmpeg, Async or Batch)  
- 좋아요 / 댓글  
- 공유 기능 (URL 복사, SNS 버튼)
- 내 릴스 관리  
</details>

<details>
  <summary><strong>7. 게임</strong></summary>
  
**고양이 카드 맞추기 게임**  
- 카드 뒤집기  
- 쌍 맞추기 (시간 제한 or 시도 횟수)  
- 랭킹 보기 / 다시 도전  
- 이미지 커스터마이징 (자가 등록한 고양이 사진 기반 카드 구성)  

</details>

<details>
  <summary><strong>8. 유저 활동량 분석</strong></summary>
- 조회수  
- 좋아요 수  
- 댓글 수  
</details>

---

## 🔡 요구사항 명세서

<img src="https://github.com/user-attachments/assets/865d3ab8-f4e3-4100-a330-e73d277c71cd" width="900" />


---

## [📟 REST API 명세서](https://docs.google.com/spreadsheets/d/1LiKpL7lfRMg4xijcw1LJebzHuwfKG9ceprzKavaqNMQ/edit?gid=1844885263#gid=1844885263&range=A1:L45)

---

## 🗃️ DB 모델링


<img src="https://github.com/user-attachments/assets/b06c9bc7-b80e-41bd-a8af-68afb1cfd843" width="900" />

---

## 📈 플로우 차트

<img src="https://github.com/user-attachments/assets/b95b01af-d230-4a2d-b2e1-c338213c965a" />

---

## 🪄 Figma


<table>
  <tr>
    <td align="center" valign="top">
      <img src="https://github.com/user-attachments/assets/fde7b0de-4ec4-4f52-b7b5-c27713087d34" width="300px"><br/>
    </td>
    <td align="center" valign="top">
      <img src="https://github.com/user-attachments/assets/a25c6ab7-f303-44dc-88bb-3f9231682c46" width="300px"><br/>
    </td>
    <td align="center" valign="top">
      <img src="https://github.com/user-attachments/assets/d2726dd9-a96c-468e-a2f8-876c15250a79" width="300px"><br/>
    </td>
  </tr>
</table>



---

## 🛜 CI/CD 프로젝트 아키텍처

<img src="https://github.com/beyond-SW-Camp-14th-clover/be14-4th-clover-moodiary-Dev/raw/main/image/image%20(1).png" width="900" />
사진 수정

---

## 🚩 젠킨스 파이프라인 파일 스크립트 코드

```groovy
pipeline {
    agent any

    tools {
        gradle 'gradle'
        jdk 'openJDK17'
    }

    environment {
        DOCKERHUB_CREDENTIALS = credentials('DOCKERHUB_PASSWORD')
        GITHUB_URL = 'https://github.com/be15-six-my-cat/be15-4th-sixmycat-catchy-DEVOPS.git'
    }

    stages {
        stage('Preparation') {
            steps {
                script {
                    sh '/opt/homebrew/bin/docker --version'
                }
            }
        }

        stage('Clone Repository') {
            steps {
                git branch: 'main', url: "${env.GITHUB_URL}"
            }
        }

        stage('Detect Changes') {
            steps {
                script {
                    env.CHANGED_BACKEND = sh(script: "git diff --name-only HEAD HEAD~1 | grep '^backend/' || true", returnStdout: true).trim()
                    env.CHANGED_FRONTEND = sh(script: "git diff --name-only HEAD HEAD~1 | grep '^frontend/' || true", returnStdout: true).trim()
                }
            }
        }

        stage('Build Backend') {
            when {
                expression { return env.CHANGED_BACKEND }
            }
            steps {
                dir('backend') {
                    script {
                        sh 'chmod +x ./gradlew'
                        sh './gradlew clean build -x test'
                    }
                }
            }
        }

        stage('Build Frontend') {
            when {
                expression { return env.CHANGED_FRONTEND }
            }
             tools {
        nodejs '24.1.0'
                 }
            steps {
                dir('frontend') {
                    sh 'npm install'
                    sh 'npm run build'
                }
            }
        }

        stage('Docker Build and Push - Backend') {
            when {
                expression { return env.CHANGED_BACKEND }
            }
            steps {
                dir('backend') {
                    script {
                        withCredentials([usernamePassword(
                            credentialsId: 'DOCKERHUB_PASSWORD',
                            usernameVariable: 'DOCKER_USER',
                            passwordVariable: 'DOCKER_PASS'
                        )]) {
                            sh 'mkdir -p ~/.docker'
                            sh 'echo "{ \"credsStore\": \"\" }" > ~/.docker/config.json'

                            sh '/opt/homebrew/bin/docker login -u ${DOCKER_USER} -p ${DOCKER_PASS}'
                            sh '/opt/homebrew/bin/docker build -t ${DOCKER_USER}/k8s-boot:latest .'
                            sh '/opt/homebrew/bin/docker push ${DOCKER_USER}/k8s-boot:latest'
                        }
                    }
                }
            }
        }

        stage('Docker Build and Push - Frontend') {
            when {
                expression { return env.CHANGED_FRONTEND }
            }
            steps {
                dir('frontend') {
                    withCredentials([string(credentialsId: 'KAKAO_JS_KEY', variable: 'KAKAO_KEY')]) {
                writeFile file: '.env.production', text: """
VITE_API_URL=http://localhost/boot/api/v1
VITE_AWS_BUCKET_NAME=be15-4th-catchy-s3-bucket
VITE_AWS_REGION=ap-northeast-2
VITE_KAKAO_JAVASCRIPT_KEY=${KAKAO_KEY}
                """
            }
                    script {
                        withCredentials([usernamePassword(
                            credentialsId: 'DOCKERHUB_PASSWORD',
                            usernameVariable: 'DOCKER_USER',
                            passwordVariable: 'DOCKER_PASS'
                        )]) {
                            sh 'mkdir -p ~/.docker'
                            sh 'echo "{ \"credsStore\": \"\" }" > ~/.docker/config.json'

                            sh '/opt/homebrew/bin/docker login -u ${DOCKER_USER} -p ${DOCKER_PASS}'
                            sh '/opt/homebrew/bin/docker build -t ${DOCKER_USER}/k8s-vue:latest .'
                            sh '/opt/homebrew/bin/docker push ${DOCKER_USER}/k8s-vue:latest'
                        }
                    }
                }
            }
        }
    }

    post {
        always {
            script {
                sh '/opt/homebrew/bin/docker logout || true'
            }
        }
        success {
            script {
                def changedParts = []
                if (env.CHANGED_BACKEND) changedParts << "백엔드"
                if (env.CHANGED_FRONTEND) changedParts << "프론트엔드"
                def changeInfo = changedParts ? changedParts.join(", ") : "변경 없음"

                withCredentials([string(credentialsId: 'discord', variable: 'DISCORD')]) {
                    discordSend(
                        description: """
                        **✅ 빌드 성공!**

                        **변경 감지:** ${changeInfo}
                        **제목:** ${currentBuild.displayName}
                        **결과:** :white_check_mark: ${currentBuild.currentResult}
                        **실행 시간:** ${currentBuild.duration / 1000}s
                        **링크:** [빌드 결과 보기](${env.BUILD_URL})
                        """,
                        title: "${env.JOB_NAME} 빌드 성공!",
                        webhookURL: "$DISCORD"
                    )
                }
            }
        }
       failure {
            script {
                def changedParts = []
                if (env.CHANGED_BACKEND) changedParts << "백엔드"
                if (env.CHANGED_FRONTEND) changedParts << "프론트엔드"
                def changeInfo = changedParts ? changedParts.join(", ") : "변경 없음"

                withCredentials([string(credentialsId: 'discord', variable: 'DISCORD')]) {
                    discordSend(
                        description: """
                        **❌ 빌드 실패!**

                        **변경 감지:** ${changeInfo}
                        **제목:** ${currentBuild.displayName}
                        **결과:** :x: ${currentBuild.currentResult}
                        **실행 시간:** ${currentBuild.duration / 1000}s
                        **링크:** [빌드 결과 보기](${env.BUILD_URL})
                        """,
                        title: "${env.JOB_NAME} 빌드 실패!",
                        webhookURL: "$DISCORD"
                    )
                }
            }
        }
    }
}
```
코드 수정

## 📱 CI/CD 테스트

<img src="https://raw.githubusercontent.com/beyond-SW-Camp-14th-clover/be14-4th-clover-moodiary-Dev/main/image/CICD%ED%85%8C%EC%8A%A4%ED%8A%B8.png" width="900" />
사진 수정


## 😊 개인 회고록

|  이름  | 회고록                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :----: |:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 김기홍 | 개인 회고 작성                                                                                                                                                                                                                                                                                        |
| 김진영 | 개인 회고 작성                                                                                                                                                                                                                                                                                        |
| 김채원 | 개인 회고 작성                                                                                                                                                                                                                                                                                        |
| 박성용 | 개인 회고 작성                                                                                                                                                                                                                                                                                        |
| 차명호 | 개인 회고 작성                                                                                                                                                                                                                                                                                        |
| 하채린 | 개인 회고 작성                 
